version: '3.8'

services:
  ms-api-gateway:
    image: openjdk:11-jdk-slim
    container_name: ms-api-gateway
    ports:
      - "8090:8090"
    volumes:
      - ./target/ms-api-gateway-0.0.1-SNAPSHOT.jar:/app/app.jar
    command: ["java", "-jar", "/app/app.jar"]
    environment:
      SPRING_PROFILES_ACTIVE: prod
      SPRING_APPLICATION_NAME: ms-api-gateway
      SPRING_CONFIG_IMPORT: optional:configserver:http://config-server:8888
      EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: http://eureka-server:8761/eureka
    networks:
      - spring-net

networks:
  spring-net:
    driver: bridge
